"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/client/invoices/[id]",{

/***/ "(pages-dir-browser)/./pages/client/invoices/[id].js":
/*!***************************************!*\
  !*** ./pages/client/invoices/[id].js ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InvoiceDetail)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/router */ \"(pages-dir-browser)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ClientLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../components/ClientLayout */ \"(pages-dir-browser)/./components/ClientLayout.js\");\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/supabaseClient */ \"(pages-dir-browser)/./lib/supabaseClient.js\");\n/* harmony import */ var _barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=IconAlertTriangle,IconArrowLeft,IconCheck,IconClipboardList,IconClock,IconExternalLink,IconFileText!=!@tabler/icons-react */ \"(pages-dir-browser)/__barrel_optimize__?names=IconAlertTriangle,IconArrowLeft,IconCheck,IconClipboardList,IconClock,IconExternalLink,IconFileText!=!./node_modules/@tabler/icons-react/dist/esm/tabler-icons-react.mjs\");\n// pages/client/invoices/[id].js\nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction InvoiceDetail() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const { id } = router.query;\n    const [invoice, setInvoice] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [invoiceItems, setInvoiceItems] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [restaurant, setRestaurant] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"InvoiceDetail.useEffect\": ()=>{\n            if (id) {\n                fetchInvoiceData();\n            }\n        }\n    }[\"InvoiceDetail.useEffect\"], [\n        id\n    ]);\n    async function fetchInvoiceData() {\n        try {\n            setLoading(true);\n            setError(\"\");\n            // First, verify user has access to this invoice\n            const { data: { user }, error: userError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"].auth.getUser();\n            if (userError || !user) {\n                setError(\"Authentication required\");\n                return;\n            }\n            // Get user's restaurant_id\n            const { data: profile, error: profileError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"].from(\"profiles\").select(\"restaurant_id\").eq(\"id\", user.id).single();\n            if (profileError || !profile?.restaurant_id) {\n                setError(\"Could not determine restaurant access\");\n                return;\n            }\n            // Fetch invoice with restaurant verification\n            const { data: invoiceData, error: invoiceError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"].from(\"invoices\").select(\"*\").eq(\"id\", id).eq(\"restaurant_id\", profile.restaurant_id).single();\n            if (invoiceError) {\n                if (invoiceError.code === 'PGRST116') {\n                    setError(\"Invoice not found or access denied\");\n                } else {\n                    setError(\"Failed to fetch invoice: \" + invoiceError.message);\n                }\n                return;\n            }\n            setInvoice(invoiceData);\n            // Fetch restaurant info\n            const { data: restaurantData, error: restaurantError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"].from(\"restaurants\").select(\"*\").eq(\"id\", profile.restaurant_id).single();\n            if (!restaurantError && restaurantData) {\n                setRestaurant(restaurantData);\n            }\n            // Fetch invoice items if they exist\n            const { data: itemsData, error: itemsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"].from(\"invoice_items\").select(`\n          *,\n          ingredients (\n            name,\n            unit\n          )\n        `).eq(\"invoice_id\", id).order(\"item_name\");\n            if (!itemsError) {\n                setInvoiceItems(itemsData || []);\n            }\n        } catch (err) {\n            setError(\"An unexpected error occurred: \" + err.message);\n            console.error(\"Error fetching invoice data:\", err);\n        } finally{\n            setLoading(false);\n        }\n    }\n    function formatDate(dateString) {\n        if (!dateString) return \"Not provided\";\n        try {\n            return new Date(dateString).toLocaleDateString('en-US', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n            });\n        } catch  {\n            return \"Invalid date\";\n        }\n    }\n    function formatCurrency(amount) {\n        if (!amount || amount === null || amount === undefined) {\n            return \"--\";\n        }\n        const numAmount = parseFloat(amount);\n        if (isNaN(numAmount)) {\n            return \"--\";\n        }\n        return numAmount.toLocaleString('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        });\n    }\n    function calculateItemTotal(item) {\n        const quantity = parseFloat(item.quantity) || 0;\n        const unitCost = parseFloat(item.unit_cost) || 0;\n        return quantity * unitCost;\n    }\n    function getProcessingStatus() {\n        if (!invoice) return 'unknown';\n        const hasAllFields = invoice.number && invoice.date && invoice.supplier && invoice.amount;\n        return hasAllFields ? 'processed' : 'pending';\n    }\n    if (loading) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ClientLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            pageTitle: \"Invoice Details\",\n            pageDescription: \"View invoice information and items\",\n            pageIcon: _barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconFileText\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"p-6\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"flex items-center justify-center py-12\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"w-10 h-10 border-4 border-gray-300 border-t-blue-600 rounded-full animate-spin\"\n        }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n            className: \"ml-3 text-gray-600\"\n        }, \"Loading invoice details...\"))));\n    }\n    if (error) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ClientLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            pageTitle: \"Invoice Details\",\n            pageDescription: \"View invoice information and items\",\n            pageIcon: _barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconFileText\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"p-6\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"text-center py-12\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"text-6xl mb-4\"\n        }, \"⚠️\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h3', {\n            className: \"text-xl font-semibold text-gray-900 mb-2\"\n        }, \"Error Loading Invoice\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n            className: \"text-red-600 mb-6\"\n        }, error), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"flex gap-4 justify-center\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('button', {\n            onClick: ()=>router.push(\"/client/invoices\"),\n            className: \"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n        }, \"Back to Invoices\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('button', {\n            onClick: ()=>window.location.reload(),\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        }, \"Retry\")))));\n    }\n    if (!invoice) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ClientLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            pageTitle: \"Invoice Details\",\n            pageDescription: \"View invoice information and items\",\n            pageIcon: _barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconFileText\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"p-6\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"text-center py-12\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n            className: \"text-6xl mb-4\"\n        }, \"📄\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h3', {\n            className: \"text-xl font-semibold text-gray-900 mb-2\"\n        }, \"Invoice Not Found\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n            className: \"text-gray-600 mb-6\"\n        }, \"The requested invoice could not be found.\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('button', {\n            onClick: ()=>router.push(\"/client/invoices\"),\n            className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        }, \"Back to Invoices\"))));\n    }\n    const status = getProcessingStatus();\n    const totalCalculated = invoiceItems.reduce((sum, item)=>sum + calculateItemTotal(item), 0);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ClientLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        pageTitle: \"Invoice Details\",\n        pageDescription: \"View invoice information and items\",\n        pageIcon: _barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconFileText\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, // Header with back button\n    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-white border-b border-gray-200 px-6 py-4\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"flex items-center justify-between\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('button', {\n        onClick: ()=>router.push(\"/client/invoices\"),\n        className: \"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconArrowLeft, {\n        size: 20\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', null, \"Back to Invoices\")), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"flex items-center gap-3\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${status === 'processed' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`\n    }, status === 'processed' ? 'Processed' : 'Pending Review')))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"p-6 max-w-6xl mx-auto space-y-6\"\n    }, // Invoice Information Card\n    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"flex items-center justify-between mb-6\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h2', {\n        className: \"text-lg font-semibold text-gray-900\"\n    }, \"Invoice Information\"), restaurant && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-sm font-medium text-gray-600 bg-gray-100 px-3 py-1 rounded-full\"\n    }, restaurant.name)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"Invoice Number\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-lg text-gray-900\"\n    }, invoice.number || /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-gray-400 italic\"\n    }, \"Pending Review\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"Invoice Date\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-lg text-gray-900\"\n    }, invoice.date ? formatDate(invoice.date) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-gray-400 italic\"\n    }, \"Pending Review\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"Supplier\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-lg text-gray-900\"\n    }, invoice.supplier || /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-gray-400 italic\"\n    }, \"Pending Review\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"Total Amount\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-2xl font-bold text-gray-900\"\n    }, invoice.amount ? formatCurrency(invoice.amount) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-gray-400 italic\"\n    }, \"Pending Review\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"Upload Date\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-lg text-gray-900\"\n    }, formatDate(invoice.created_at))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"space-y-1\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('label', {\n        className: \"text-sm font-medium text-gray-500\"\n    }, \"File\"), invoice.file_url ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('a', {\n        href: invoice.file_url,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n    }, \"View Original File\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconExternalLink, {\n        size: 16\n    }))) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-gray-400 italic\"\n    }, \"No file available\")))), // Invoice Items Card\n    invoiceItems.length > 0 && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"flex items-center justify-between mb-6\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h2', {\n        className: \"text-lg font-semibold text-gray-900\"\n    }, \"Invoice Items\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-sm font-medium text-gray-600 bg-gray-100 px-3 py-1 rounded-full\"\n    }, `${invoiceItems.length} items`)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"overflow-x-auto\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('table', {\n        className: \"w-full\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('thead', {\n        className: \"bg-gray-50 border-b border-gray-200\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tr', null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Item Name\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Quantity\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Unit\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Unit Cost\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Total\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('th', {\n        className: \"text-left py-3 px-4 text-sm font-medium text-gray-900\"\n    }, \"Linked Ingredient\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tbody', {\n        className: \"divide-y divide-gray-100\"\n    }, invoiceItems.map((item)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tr', {\n            key: item.id,\n            className: \"hover:bg-gray-50\"\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4 font-medium text-gray-900\"\n        }, item.item_name || \"--\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4 text-gray-900\"\n        }, item.quantity || \"--\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4 text-gray-900\"\n        }, item.unit || \"--\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4 text-gray-900\"\n        }, formatCurrency(item.unit_cost)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4 font-medium text-gray-900\"\n        }, formatCurrency(calculateItemTotal(item))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n            className: \"py-4 px-4\"\n        }, item.ingredients ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n            className: \"text-green-700 bg-green-50 px-2 py-1 rounded text-sm\"\n        }, item.ingredients.name) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n            className: \"text-gray-500 italic\"\n        }, \"Not linked\"))))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tfoot', {\n        className: \"bg-gray-50 border-t border-gray-200\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tr', null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        colSpan: 4,\n        className: \"py-4 px-4 font-semibold text-gray-900\"\n    }, \"Calculated Total:\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        className: \"py-4 px-4 font-bold text-gray-900\"\n    }, formatCurrency(totalCalculated)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        className: \"py-4 px-4\"\n    })), invoice.amount && Math.abs(totalCalculated - parseFloat(invoice.amount)) > 0.01 && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('tr', null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        colSpan: 4,\n        className: \"py-2 px-4 text-gray-700\"\n    }, \"Invoice Total:\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        className: \"py-2 px-4 text-gray-900\"\n    }, formatCurrency(invoice.amount)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('td', {\n        className: \"py-2 px-4\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('span', {\n        className: \"text-red-600 text-sm\"\n    }, `Difference: ${formatCurrency(Math.abs(totalCalculated - parseFloat(invoice.amount)))}`))))))), // Empty items state\n    invoiceItems.length === 0 && status === 'processed' && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-white border border-gray-200 rounded-xl p-12 text-center shadow-sm\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconClipboardList, {\n        size: 48,\n        className: \"mx-auto mb-4 text-gray-300\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h3', {\n        className: \"text-lg font-medium text-gray-900 mb-2\"\n    }, \"No Items Found\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-gray-600\"\n    }, \"This invoice has been processed but no line items were recorded.\")), // Pending processing message\n    status === 'pending' && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconClock, {\n        size: 48,\n        className: \"mx-auto mb-4 text-yellow-500\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h3', {\n        className: \"text-lg font-medium text-gray-900 mb-2\"\n    }, \"Pending Review\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('p', {\n        className: \"text-gray-600\"\n    }, \"This invoice is waiting to be processed by our admin team. Invoice details and line items will be available once processing is complete.\")), // File Viewer\n    invoice.file_url && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"flex items-center justify-between mb-6\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('h2', {\n        className: \"text-lg font-semibold text-gray-900\"\n    }, \"Invoice File\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('a', {\n        href: invoice.file_url,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n    }, \"Open in New Tab\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_barrel_optimize_names_IconAlertTriangle_IconArrowLeft_IconCheck_IconClipboardList_IconClock_IconExternalLink_IconFileText_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconExternalLink, {\n        size: 16\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('div', {\n        className: \"border border-gray-200 rounded-lg overflow-hidden\"\n    }, invoice.file_url.toLowerCase().includes('.pdf') ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('iframe', {\n        src: invoice.file_url,\n        className: \"w-full h-96\",\n        title: \"Invoice PDF\"\n    }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement('img', {\n        src: invoice.file_url,\n        alt: \"Invoice\",\n        className: \"w-full h-auto max-h-96 object-contain\"\n    }))))));\n}\n_s(InvoiceDetail, \"CK3kv7W+aiH3bqNyaCLROEmy35U=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter\n    ];\n});\n_c = InvoiceDetail;\nvar _c;\n$RefreshReg$(_c, \"InvoiceDetail\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NsaWVudC9pbnZvaWNlcy9baWRdLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsZ0NBQWdDOztBQUNtQjtBQUNYO0FBQ29CO0FBQ1Q7QUFTdEI7QUFFZCxTQUFTYTs7SUFDdEIsTUFBTUMsU0FBU1gsc0RBQVNBO0lBQ3hCLE1BQU0sRUFBRVksRUFBRSxFQUFFLEdBQUdELE9BQU9FLEtBQUs7SUFDM0IsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQixjQUFjQyxnQkFBZ0IsR0FBR25CLCtDQUFRQSxDQUFDLEVBQUU7SUFDbkQsTUFBTSxDQUFDb0IsU0FBU0MsV0FBVyxHQUFHckIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDc0IsT0FBT0MsU0FBUyxHQUFHdkIsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDd0IsWUFBWUMsY0FBYyxHQUFHekIsK0NBQVFBLENBQUM7SUFFN0NDLGdEQUFTQTttQ0FBQztZQUNSLElBQUlhLElBQUk7Z0JBQ05ZO1lBQ0Y7UUFDRjtrQ0FBRztRQUFDWjtLQUFHO0lBRVAsZUFBZVk7UUFDYixJQUFJO1lBQ0ZMLFdBQVc7WUFDWEUsU0FBUztZQUVULGdEQUFnRDtZQUNoRCxNQUFNLEVBQUVJLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUVOLE9BQU9PLFNBQVMsRUFBRSxHQUFHLE1BQU16QixnRUFBYSxDQUFDMkIsT0FBTztZQUN4RSxJQUFJRixhQUFhLENBQUNELE1BQU07Z0JBQ3RCTCxTQUFTO2dCQUNUO1lBQ0Y7WUFFQSwyQkFBMkI7WUFDM0IsTUFBTSxFQUFFSSxNQUFNSyxPQUFPLEVBQUVWLE9BQU9XLFlBQVksRUFBRSxHQUFHLE1BQU03QixnRUFDOUMsQ0FBQyxZQUNMK0IsTUFBTSxDQUFDLGlCQUNQQyxFQUFFLENBQUMsTUFBTVIsS0FBS2QsRUFBRSxFQUNoQnVCLE1BQU07WUFFVCxJQUFJSixnQkFBZ0IsQ0FBQ0QsU0FBU00sZUFBZTtnQkFDM0NmLFNBQVM7Z0JBQ1Q7WUFDRjtZQUVBLDZDQUE2QztZQUM3QyxNQUFNLEVBQUVJLE1BQU1ZLFdBQVcsRUFBRWpCLE9BQU9rQixZQUFZLEVBQUUsR0FBRyxNQUFNcEMsZ0VBQ2xELENBQUMsWUFDTCtCLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsTUFBTXRCLElBQ1RzQixFQUFFLENBQUMsaUJBQWlCSixRQUFRTSxhQUFhLEVBQ3pDRCxNQUFNO1lBRVQsSUFBSUcsY0FBYztnQkFDaEIsSUFBSUEsYUFBYUMsSUFBSSxLQUFLLFlBQVk7b0JBQ3BDbEIsU0FBUztnQkFDWCxPQUFPO29CQUNMQSxTQUFTLDhCQUE4QmlCLGFBQWFFLE9BQU87Z0JBQzdEO2dCQUNBO1lBQ0Y7WUFFQXpCLFdBQVdzQjtZQUVYLHdCQUF3QjtZQUN4QixNQUFNLEVBQUVaLE1BQU1nQixjQUFjLEVBQUVyQixPQUFPc0IsZUFBZSxFQUFFLEdBQUcsTUFBTXhDLGdFQUN4RCxDQUFDLGVBQ0wrQixNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLE1BQU1KLFFBQVFNLGFBQWEsRUFDOUJELE1BQU07WUFFVCxJQUFJLENBQUNPLG1CQUFtQkQsZ0JBQWdCO2dCQUN0Q2xCLGNBQWNrQjtZQUNoQjtZQUVBLG9DQUFvQztZQUNwQyxNQUFNLEVBQUVoQixNQUFNa0IsU0FBUyxFQUFFdkIsT0FBT3dCLFVBQVUsRUFBRSxHQUFHLE1BQU0xQyxnRUFDOUMsQ0FBQyxpQkFDTCtCLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7UUFNVCxDQUFDLEVBQ0FDLEVBQUUsQ0FBQyxjQUFjdEIsSUFDakJpQyxLQUFLLENBQUM7WUFFVCxJQUFJLENBQUNELFlBQVk7Z0JBQ2YzQixnQkFBZ0IwQixhQUFhLEVBQUU7WUFDakM7UUFFRixFQUFFLE9BQU9HLEtBQUs7WUFDWnpCLFNBQVMsbUNBQW1DeUIsSUFBSU4sT0FBTztZQUN2RE8sUUFBUTNCLEtBQUssQ0FBQyxnQ0FBZ0MwQjtRQUNoRCxTQUFVO1lBQ1IzQixXQUFXO1FBQ2I7SUFDRjtJQUVBLFNBQVM2QixXQUFXQyxVQUFVO1FBQzVCLElBQUksQ0FBQ0EsWUFBWSxPQUFPO1FBQ3hCLElBQUk7WUFDRixPQUFPLElBQUlDLEtBQUtELFlBQVlFLGtCQUFrQixDQUFDLFNBQVM7Z0JBQ3REQyxNQUFNO2dCQUNOQyxPQUFPO2dCQUNQQyxLQUFLO1lBQ1A7UUFDRixFQUFFLE9BQU07WUFDTixPQUFPO1FBQ1Q7SUFDRjtJQUVBLFNBQVNDLGVBQWVDLE1BQU07UUFDNUIsSUFBSSxDQUFDQSxVQUFVQSxXQUFXLFFBQVFBLFdBQVdDLFdBQVc7WUFDdEQsT0FBTztRQUNUO1FBRUEsTUFBTUMsWUFBWUMsV0FBV0g7UUFDN0IsSUFBSUksTUFBTUYsWUFBWTtZQUNwQixPQUFPO1FBQ1Q7UUFFQSxPQUFPQSxVQUFVRyxjQUFjLENBQUMsU0FBUztZQUN2Q0MsT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLHVCQUF1QjtZQUN2QkMsdUJBQXVCO1FBQ3pCO0lBQ0Y7SUFFQSxTQUFTQyxtQkFBbUJDLElBQUk7UUFDOUIsTUFBTUMsV0FBV1QsV0FBV1EsS0FBS0MsUUFBUSxLQUFLO1FBQzlDLE1BQU1DLFdBQVdWLFdBQVdRLEtBQUtHLFNBQVMsS0FBSztRQUMvQyxPQUFPRixXQUFXQztJQUNwQjtJQUVBLFNBQVNFO1FBQ1AsSUFBSSxDQUFDekQsU0FBUyxPQUFPO1FBQ3JCLE1BQU0wRCxlQUFlMUQsUUFBUTJELE1BQU0sSUFBSTNELFFBQVE0RCxJQUFJLElBQUk1RCxRQUFRNkQsUUFBUSxJQUFJN0QsUUFBUTBDLE1BQU07UUFDekYsT0FBT2dCLGVBQWUsY0FBYztJQUN0QztJQUVBLElBQUl0RCxTQUFTO1FBQ1gscUJBQU9yQiwwREFBbUIsQ0FDeEJJLGdFQUFZQSxFQUNaO1lBQ0U0RSxXQUFXO1lBQ1hDLGlCQUFpQjtZQUNqQkMsVUFBVTVFLHVMQUFZQTtRQUN4QixpQkFDQU4sMERBQW1CLENBQ2pCLE9BQ0E7WUFBRW1GLFdBQVc7UUFBTSxpQkFDbkJuRiwwREFBbUIsQ0FDakIsT0FDQTtZQUFFbUYsV0FBVztRQUF5QyxpQkFDdERuRiwwREFBbUIsQ0FBQyxPQUFPO1lBQUVtRixXQUFXO1FBQWlGLGtCQUN6SG5GLDBEQUFtQixDQUFDLFFBQVE7WUFBRW1GLFdBQVc7UUFBcUIsR0FBRztJQUl6RTtJQUVBLElBQUk1RCxPQUFPO1FBQ1QscUJBQU92QiwwREFBbUIsQ0FDeEJJLGdFQUFZQSxFQUNaO1lBQ0U0RSxXQUFXO1lBQ1hDLGlCQUFpQjtZQUNqQkMsVUFBVTVFLHVMQUFZQTtRQUN4QixpQkFDQU4sMERBQW1CLENBQ2pCLE9BQ0E7WUFBRW1GLFdBQVc7UUFBTSxpQkFDbkJuRiwwREFBbUIsQ0FDakIsT0FDQTtZQUFFbUYsV0FBVztRQUFvQixpQkFDakNuRiwwREFBbUIsQ0FBQyxPQUFPO1lBQUVtRixXQUFXO1FBQWdCLEdBQUcscUJBQzNEbkYsMERBQW1CLENBQUMsTUFBTTtZQUFFbUYsV0FBVztRQUEyQyxHQUFHLHdDQUNyRm5GLDBEQUFtQixDQUFDLEtBQUs7WUFBRW1GLFdBQVc7UUFBb0IsR0FBRzVELHNCQUM3RHZCLDBEQUFtQixDQUNqQixPQUNBO1lBQUVtRixXQUFXO1FBQTRCLGlCQUN6Q25GLDBEQUFtQixDQUNqQixVQUNBO1lBQ0VvRixTQUFTLElBQU10RSxPQUFPdUUsSUFBSSxDQUFDO1lBQzNCRixXQUFXO1FBQ2IsR0FDQSxtQ0FFRm5GLDBEQUFtQixDQUNqQixVQUNBO1lBQ0VvRixTQUFTLElBQU1FLE9BQU9DLFFBQVEsQ0FBQ0MsTUFBTTtZQUNyQ0wsV0FBVztRQUNiLEdBQ0E7SUFNWjtJQUVBLElBQUksQ0FBQ2xFLFNBQVM7UUFDWixxQkFBT2pCLDBEQUFtQixDQUN4QkksZ0VBQVlBLEVBQ1o7WUFDRTRFLFdBQVc7WUFDWEMsaUJBQWlCO1lBQ2pCQyxVQUFVNUUsdUxBQVlBO1FBQ3hCLGlCQUNBTiwwREFBbUIsQ0FDakIsT0FDQTtZQUFFbUYsV0FBVztRQUFNLGlCQUNuQm5GLDBEQUFtQixDQUNqQixPQUNBO1lBQUVtRixXQUFXO1FBQW9CLGlCQUNqQ25GLDBEQUFtQixDQUFDLE9BQU87WUFBRW1GLFdBQVc7UUFBZ0IsR0FBRyxxQkFDM0RuRiwwREFBbUIsQ0FBQyxNQUFNO1lBQUVtRixXQUFXO1FBQTJDLEdBQUcsb0NBQ3JGbkYsMERBQW1CLENBQUMsS0FBSztZQUFFbUYsV0FBVztRQUFxQixHQUFHLDREQUM5RG5GLDBEQUFtQixDQUNqQixVQUNBO1lBQ0VvRixTQUFTLElBQU10RSxPQUFPdUUsSUFBSSxDQUFDO1lBQzNCRixXQUFXO1FBQ2IsR0FDQTtJQUtWO0lBRUEsTUFBTU0sU0FBU2Y7SUFDZixNQUFNZ0Isa0JBQWtCdkUsYUFBYXdFLE1BQU0sQ0FBQyxDQUFDQyxLQUFLdEIsT0FBU3NCLE1BQU12QixtQkFBbUJDLE9BQU87SUFFM0YscUJBQU90RSwwREFBbUIsQ0FDeEJJLGdFQUFZQSxFQUNaO1FBQ0U0RSxXQUFXO1FBQ1hDLGlCQUFpQjtRQUNqQkMsVUFBVTVFLHVMQUFZQTtJQUN4QixpQkFDQU4sMERBQW1CLENBQ2pCQSx1REFBYyxFQUNkLE1BQ0EsMEJBQTBCO2tCQUMxQkEsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBOEMsaUJBQzNEbkYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBb0MsaUJBQ2pEbkYsMERBQW1CLENBQ2pCLFVBQ0E7UUFDRW9GLFNBQVMsSUFBTXRFLE9BQU91RSxJQUFJLENBQUM7UUFDM0JGLFdBQVc7SUFDYixpQkFDQW5GLDBEQUFtQixDQUFDTyx3TEFBYUEsRUFBRTtRQUFFdUYsTUFBTTtJQUFHLGtCQUM5QzlGLDBEQUFtQixDQUFDLFFBQVEsTUFBTSxvQ0FFcENBLDBEQUFtQixDQUNqQixPQUNBO1FBQUVtRixXQUFXO0lBQTBCLGlCQUN2Q25GLDBEQUFtQixDQUNqQixRQUNBO1FBQ0VtRixXQUFXLENBQUMsb0VBQW9FLEVBQzlFTSxXQUFXLGNBQ1AsZ0NBQ0EsaUNBQ0o7SUFDSixHQUNBQSxXQUFXLGNBQWMsY0FBYyxvQ0FNL0N6RiwwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUFrQyxHQUUvQywyQkFBMkI7a0JBQzNCbkYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBMkQsaUJBQ3hFbkYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBeUMsaUJBQ3REbkYsMERBQW1CLENBQUMsTUFBTTtRQUFFbUYsV0FBVztJQUFzQyxHQUFHLHdCQUNoRjFELDRCQUFjekIsMERBQW1CLENBQy9CLFFBQ0E7UUFBRW1GLFdBQVc7SUFBdUUsR0FDcEYxRCxXQUFXc0UsSUFBSSxrQkFHbkIvRiwwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUF1RCxpQkFDcEVuRiwwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUFZLGlCQUN6Qm5GLDBEQUFtQixDQUFDLFNBQVM7UUFBRW1GLFdBQVc7SUFBb0MsR0FBRyxpQ0FDakZuRiwwREFBbUIsQ0FDakIsS0FDQTtRQUFFbUYsV0FBVztJQUF3QixHQUNyQ2xFLFFBQVEyRCxNQUFNLGtCQUFJNUUsMERBQW1CLENBQUMsUUFBUTtRQUFFbUYsV0FBVztJQUF1QixHQUFHLG1DQUd6Rm5GLDBEQUFtQixDQUNqQixPQUNBO1FBQUVtRixXQUFXO0lBQVksaUJBQ3pCbkYsMERBQW1CLENBQUMsU0FBUztRQUFFbUYsV0FBVztJQUFvQyxHQUFHLCtCQUNqRm5GLDBEQUFtQixDQUNqQixLQUNBO1FBQUVtRixXQUFXO0lBQXdCLEdBQ3JDbEUsUUFBUTRELElBQUksR0FBRzFCLFdBQVdsQyxRQUFRNEQsSUFBSSxrQkFBSTdFLDBEQUFtQixDQUFDLFFBQVE7UUFBRW1GLFdBQVc7SUFBdUIsR0FBRyxtQ0FHakhuRiwwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUFZLGlCQUN6Qm5GLDBEQUFtQixDQUFDLFNBQVM7UUFBRW1GLFdBQVc7SUFBb0MsR0FBRywyQkFDakZuRiwwREFBbUIsQ0FDakIsS0FDQTtRQUFFbUYsV0FBVztJQUF3QixHQUNyQ2xFLFFBQVE2RCxRQUFRLGtCQUFJOUUsMERBQW1CLENBQUMsUUFBUTtRQUFFbUYsV0FBVztJQUF1QixHQUFHLG1DQUczRm5GLDBEQUFtQixDQUNqQixPQUNBO1FBQUVtRixXQUFXO0lBQVksaUJBQ3pCbkYsMERBQW1CLENBQUMsU0FBUztRQUFFbUYsV0FBVztJQUFvQyxHQUFHLCtCQUNqRm5GLDBEQUFtQixDQUNqQixLQUNBO1FBQUVtRixXQUFXO0lBQW1DLEdBQ2hEbEUsUUFBUTBDLE1BQU0sR0FBR0QsZUFBZXpDLFFBQVEwQyxNQUFNLGtCQUFJM0QsMERBQW1CLENBQUMsUUFBUTtRQUFFbUYsV0FBVztJQUF1QixHQUFHLG1DQUd6SG5GLDBEQUFtQixDQUNqQixPQUNBO1FBQUVtRixXQUFXO0lBQVksaUJBQ3pCbkYsMERBQW1CLENBQUMsU0FBUztRQUFFbUYsV0FBVztJQUFvQyxHQUFHLDhCQUNqRm5GLDBEQUFtQixDQUFDLEtBQUs7UUFBRW1GLFdBQVc7SUFBd0IsR0FBR2hDLFdBQVdsQyxRQUFRK0UsVUFBVSxtQkFFaEdoRywwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUFZLGlCQUN6Qm5GLDBEQUFtQixDQUFDLFNBQVM7UUFBRW1GLFdBQVc7SUFBb0MsR0FBRyxTQUNqRmxFLFFBQVFnRixRQUFRLGlCQUFHakcsMERBQW1CLENBQ3BDLE9BQ0Esb0JBQ0FBLDBEQUFtQixDQUNqQixLQUNBO1FBQ0VrRyxNQUFNakYsUUFBUWdGLFFBQVE7UUFDdEJFLFFBQVE7UUFDUkMsS0FBSztRQUNMakIsV0FBVztJQUNiLEdBQ0Esb0NBQ0FuRiwwREFBbUIsQ0FBQ1EsMkxBQWdCQSxFQUFFO1FBQUVzRixNQUFNO0lBQUcscUJBRWpEOUYsMERBQW1CLENBQUMsUUFBUTtRQUFFbUYsV0FBVztJQUF1QixHQUFHLHlCQUs3RSxxQkFBcUI7SUFDckJoRSxhQUFha0YsTUFBTSxHQUFHLG1CQUFLckcsMERBQW1CLENBQzVDLE9BQ0E7UUFBRW1GLFdBQVc7SUFBMkQsaUJBQ3hFbkYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBeUMsaUJBQ3REbkYsMERBQW1CLENBQUMsTUFBTTtRQUFFbUYsV0FBVztJQUFzQyxHQUFHLGdDQUNoRm5GLDBEQUFtQixDQUNqQixRQUNBO1FBQUVtRixXQUFXO0lBQXVFLEdBQ3BGLEdBQUdoRSxhQUFha0YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxrQkFHbENyRywwREFBbUIsQ0FDakIsT0FDQTtRQUFFbUYsV0FBVztJQUFrQixpQkFDL0JuRiwwREFBbUIsQ0FDakIsU0FDQTtRQUFFbUYsV0FBVztJQUFTLGlCQUN0Qm5GLDBEQUFtQixDQUNqQixTQUNBO1FBQUVtRixXQUFXO0lBQXNDLGlCQUNuRG5GLDBEQUFtQixDQUNqQixNQUNBLG9CQUNBQSwwREFBbUIsQ0FBQyxNQUFNO1FBQUVtRixXQUFXO0lBQXdELEdBQUcsNEJBQ2xHbkYsMERBQW1CLENBQUMsTUFBTTtRQUFFbUYsV0FBVztJQUF3RCxHQUFHLDJCQUNsR25GLDBEQUFtQixDQUFDLE1BQU07UUFBRW1GLFdBQVc7SUFBd0QsR0FBRyx1QkFDbEduRiwwREFBbUIsQ0FBQyxNQUFNO1FBQUVtRixXQUFXO0lBQXdELEdBQUcsNEJBQ2xHbkYsMERBQW1CLENBQUMsTUFBTTtRQUFFbUYsV0FBVztJQUF3RCxHQUFHLHdCQUNsR25GLDBEQUFtQixDQUFDLE1BQU07UUFBRW1GLFdBQVc7SUFBd0QsR0FBRyxzQ0FHdEduRiwwREFBbUIsQ0FDakIsU0FDQTtRQUFFbUYsV0FBVztJQUEyQixHQUN4Q2hFLGFBQWFtRixHQUFHLENBQUMsQ0FBQ2hDLHFCQUNoQnRFLDBEQUFtQixDQUNqQixNQUNBO1lBQUV1RyxLQUFLakMsS0FBS3ZELEVBQUU7WUFBRW9FLFdBQVc7UUFBbUIsaUJBQzlDbkYsMERBQW1CLENBQ2pCLE1BQ0E7WUFBRW1GLFdBQVc7UUFBc0MsR0FDbkRiLEtBQUtrQyxTQUFTLElBQUkscUJBRXBCeEcsMERBQW1CLENBQ2pCLE1BQ0E7WUFBRW1GLFdBQVc7UUFBMEIsR0FDdkNiLEtBQUtDLFFBQVEsSUFBSSxxQkFFbkJ2RSwwREFBbUIsQ0FDakIsTUFDQTtZQUFFbUYsV0FBVztRQUEwQixHQUN2Q2IsS0FBS21DLElBQUksSUFBSSxxQkFFZnpHLDBEQUFtQixDQUNqQixNQUNBO1lBQUVtRixXQUFXO1FBQTBCLEdBQ3ZDekIsZUFBZVksS0FBS0csU0FBUyxrQkFFL0J6RSwwREFBbUIsQ0FDakIsTUFDQTtZQUFFbUYsV0FBVztRQUFzQyxHQUNuRHpCLGVBQWVXLG1CQUFtQkMsdUJBRXBDdEUsMERBQW1CLENBQ2pCLE1BQ0E7WUFBRW1GLFdBQVc7UUFBWSxHQUN6QmIsS0FBS29DLFdBQVcsaUJBQUcxRywwREFBbUIsQ0FDcEMsUUFDQTtZQUFFbUYsV0FBVztRQUF1RCxHQUNwRWIsS0FBS29DLFdBQVcsQ0FBQ1gsSUFBSSxrQkFDbkIvRiwwREFBbUIsQ0FDckIsUUFDQTtZQUFFbUYsV0FBVztRQUF1QixHQUNwQyxpQ0FNVm5GLDBEQUFtQixDQUNqQixTQUNBO1FBQUVtRixXQUFXO0lBQXNDLGlCQUNuRG5GLDBEQUFtQixDQUNqQixNQUNBLG9CQUNBQSwwREFBbUIsQ0FDakIsTUFDQTtRQUFFMkcsU0FBUztRQUFHeEIsV0FBVztJQUF3QyxHQUNqRSxvQ0FFRm5GLDBEQUFtQixDQUNqQixNQUNBO1FBQUVtRixXQUFXO0lBQW9DLEdBQ2pEekIsZUFBZWdDLGlDQUVqQjFGLDBEQUFtQixDQUFDLE1BQU07UUFBRW1GLFdBQVc7SUFBWSxLQUVyRGxFLFFBQVEwQyxNQUFNLElBQUlpRCxLQUFLQyxHQUFHLENBQUNuQixrQkFBa0I1QixXQUFXN0MsUUFBUTBDLE1BQU0sS0FBSyxzQkFBUTNELDBEQUFtQixDQUNwRyxNQUNBLG9CQUNBQSwwREFBbUIsQ0FDakIsTUFDQTtRQUFFMkcsU0FBUztRQUFHeEIsV0FBVztJQUEwQixHQUNuRCxpQ0FFRm5GLDBEQUFtQixDQUNqQixNQUNBO1FBQUVtRixXQUFXO0lBQTBCLEdBQ3ZDekIsZUFBZXpDLFFBQVEwQyxNQUFNLGtCQUUvQjNELDBEQUFtQixDQUNqQixNQUNBO1FBQUVtRixXQUFXO0lBQVksaUJBQ3pCbkYsMERBQW1CLENBQ2pCLFFBQ0E7UUFBRW1GLFdBQVc7SUFBdUIsR0FDcEMsQ0FBQyxZQUFZLEVBQUV6QixlQUFla0QsS0FBS0MsR0FBRyxDQUFDbkIsa0JBQWtCNUIsV0FBVzdDLFFBQVEwQyxNQUFNLEtBQUssU0FTckcsb0JBQW9CO0lBQ3BCeEMsYUFBYWtGLE1BQU0sS0FBSyxLQUFLWixXQUFXLDZCQUFlekYsMERBQW1CLENBQ3hFLE9BQ0E7UUFBRW1GLFdBQVc7SUFBd0UsaUJBQ3JGbkYsMERBQW1CLENBQUNTLDRMQUFpQkEsRUFBRTtRQUFFcUYsTUFBTTtRQUFJWCxXQUFXO0lBQTZCLGtCQUMzRm5GLDBEQUFtQixDQUFDLE1BQU07UUFBRW1GLFdBQVc7SUFBeUMsR0FBRyxpQ0FDbkZuRiwwREFBbUIsQ0FBQyxLQUFLO1FBQUVtRixXQUFXO0lBQWdCLEdBQUcsc0VBRzNELDZCQUE2QjtJQUM3Qk0sV0FBVywyQkFBYXpGLDBEQUFtQixDQUN6QyxPQUNBO1FBQUVtRixXQUFXO0lBQW1FLGlCQUNoRm5GLDBEQUFtQixDQUFDVSxvTEFBU0EsRUFBRTtRQUFFb0YsTUFBTTtRQUFJWCxXQUFXO0lBQStCLGtCQUNyRm5GLDBEQUFtQixDQUFDLE1BQU07UUFBRW1GLFdBQVc7SUFBeUMsR0FBRyxpQ0FDbkZuRiwwREFBbUIsQ0FBQyxLQUFLO1FBQUVtRixXQUFXO0lBQWdCLEdBQUcsOElBRzNELGNBQWM7SUFDZGxFLFFBQVFnRixRQUFRLGtCQUFJakcsMERBQW1CLENBQ3JDLE9BQ0E7UUFBRW1GLFdBQVc7SUFBMkQsaUJBQ3hFbkYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBeUMsaUJBQ3REbkYsMERBQW1CLENBQUMsTUFBTTtRQUFFbUYsV0FBVztJQUFzQyxHQUFHLCtCQUNoRm5GLDBEQUFtQixDQUNqQixLQUNBO1FBQ0VrRyxNQUFNakYsUUFBUWdGLFFBQVE7UUFDdEJFLFFBQVE7UUFDUkMsS0FBSztRQUNMakIsV0FBVztJQUNiLEdBQ0EsaUNBQ0FuRiwwREFBbUIsQ0FBQ1EsMkxBQWdCQSxFQUFFO1FBQUVzRixNQUFNO0lBQUcsb0JBR3JEOUYsMERBQW1CLENBQ2pCLE9BQ0E7UUFBRW1GLFdBQVc7SUFBb0QsR0FDakVsRSxRQUFRZ0YsUUFBUSxDQUFDYSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyx3QkFBVS9HLDBEQUFtQixDQUFDLFVBQVU7UUFDOUVnSCxLQUFLL0YsUUFBUWdGLFFBQVE7UUFDckJkLFdBQVc7UUFDWDhCLE9BQU87SUFDVCxtQkFBS2pILDBEQUFtQixDQUFDLE9BQU87UUFDOUJnSCxLQUFLL0YsUUFBUWdGLFFBQVE7UUFDckJpQixLQUFLO1FBQ0wvQixXQUFXO0lBQ2I7QUFNWjtHQXRpQndCdEU7O1FBQ1BWLGtEQUFTQTs7O0tBREZVIiwic291cmNlcyI6WyIvd29ya3NwYWNlcy9yZXN0YXVyYW50LWRhc2hib2FyZC9wYWdlcy9jbGllbnQvaW52b2ljZXMvW2lkXS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9jbGllbnQvaW52b2ljZXMvW2lkXS5qc1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IENsaWVudExheW91dCBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9DbGllbnRMYXlvdXRcIjtcbmltcG9ydCBzdXBhYmFzZSBmcm9tIFwiLi4vLi4vLi4vbGliL3N1cGFiYXNlQ2xpZW50XCI7XG5pbXBvcnQge1xuICBJY29uRmlsZVRleHQsXG4gIEljb25BcnJvd0xlZnQsXG4gIEljb25FeHRlcm5hbExpbmssXG4gIEljb25DbGlwYm9hcmRMaXN0LFxuICBJY29uQ2xvY2ssXG4gIEljb25DaGVjayxcbiAgSWNvbkFsZXJ0VHJpYW5nbGUsXG59IGZyb20gJ0B0YWJsZXIvaWNvbnMtcmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnZvaWNlRGV0YWlsKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBpZCB9ID0gcm91dGVyLnF1ZXJ5O1xuICBjb25zdCBbaW52b2ljZSwgc2V0SW52b2ljZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2ludm9pY2VJdGVtcywgc2V0SW52b2ljZUl0ZW1zXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZXN0YXVyYW50LCBzZXRSZXN0YXVyYW50XSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBmZXRjaEludm9pY2VEYXRhKCk7XG4gICAgfVxuICB9LCBbaWRdKTtcblxuICBhc3luYyBmdW5jdGlvbiBmZXRjaEludm9pY2VEYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IoXCJcIik7XG5cbiAgICAgIC8vIEZpcnN0LCB2ZXJpZnkgdXNlciBoYXMgYWNjZXNzIHRvIHRoaXMgaW52b2ljZVxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XG4gICAgICAgIHNldEVycm9yKFwiQXV0aGVudGljYXRpb24gcmVxdWlyZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHVzZXIncyByZXN0YXVyYW50X2lkXG4gICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwicHJvZmlsZXNcIilcbiAgICAgICAgLnNlbGVjdChcInJlc3RhdXJhbnRfaWRcIilcbiAgICAgICAgLmVxKFwiaWRcIiwgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlPy5yZXN0YXVyYW50X2lkKSB7XG4gICAgICAgIHNldEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSByZXN0YXVyYW50IGFjY2Vzc1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBGZXRjaCBpbnZvaWNlIHdpdGggcmVzdGF1cmFudCB2ZXJpZmljYXRpb25cbiAgICAgIGNvbnN0IHsgZGF0YTogaW52b2ljZURhdGEsIGVycm9yOiBpbnZvaWNlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiaW52b2ljZXNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwiaWRcIiwgaWQpXG4gICAgICAgIC5lcShcInJlc3RhdXJhbnRfaWRcIiwgcHJvZmlsZS5yZXN0YXVyYW50X2lkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChpbnZvaWNlRXJyb3IpIHtcbiAgICAgICAgaWYgKGludm9pY2VFcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgc2V0RXJyb3IoXCJJbnZvaWNlIG5vdCBmb3VuZCBvciBhY2Nlc3MgZGVuaWVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGludm9pY2U6IFwiICsgaW52b2ljZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0SW52b2ljZShpbnZvaWNlRGF0YSk7XG5cbiAgICAgIC8vIEZldGNoIHJlc3RhdXJhbnQgaW5mb1xuICAgICAgY29uc3QgeyBkYXRhOiByZXN0YXVyYW50RGF0YSwgZXJyb3I6IHJlc3RhdXJhbnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJyZXN0YXVyYW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJpZFwiLCBwcm9maWxlLnJlc3RhdXJhbnRfaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKCFyZXN0YXVyYW50RXJyb3IgJiYgcmVzdGF1cmFudERhdGEpIHtcbiAgICAgICAgc2V0UmVzdGF1cmFudChyZXN0YXVyYW50RGF0YSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGludm9pY2UgaXRlbXMgaWYgdGhleSBleGlzdFxuICAgICAgY29uc3QgeyBkYXRhOiBpdGVtc0RhdGEsIGVycm9yOiBpdGVtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImludm9pY2VfaXRlbXNcIilcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgKixcbiAgICAgICAgICBpbmdyZWRpZW50cyAoXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdW5pdFxuICAgICAgICAgIClcbiAgICAgICAgYClcbiAgICAgICAgLmVxKFwiaW52b2ljZV9pZFwiLCBpZClcbiAgICAgICAgLm9yZGVyKFwiaXRlbV9uYW1lXCIpO1xuXG4gICAgICBpZiAoIWl0ZW1zRXJyb3IpIHtcbiAgICAgICAgc2V0SW52b2ljZUl0ZW1zKGl0ZW1zRGF0YSB8fCBbXSk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZDogXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW52b2ljZSBkYXRhOlwiLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHtcbiAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiBcIk5vdCBwcm92aWRlZFwiO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICBkYXk6ICdudW1lcmljJ1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gXCJJbnZhbGlkIGRhdGVcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShhbW91bnQpIHtcbiAgICBpZiAoIWFtb3VudCB8fCBhbW91bnQgPT09IG51bGwgfHwgYW1vdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBcIi0tXCI7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG51bUFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KTtcbiAgICBpZiAoaXNOYU4obnVtQW1vdW50KSkge1xuICAgICAgcmV0dXJuIFwiLS1cIjtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bUFtb3VudC50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMixcbiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMlxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlSXRlbVRvdGFsKGl0ZW0pIHtcbiAgICBjb25zdCBxdWFudGl0eSA9IHBhcnNlRmxvYXQoaXRlbS5xdWFudGl0eSkgfHwgMDtcbiAgICBjb25zdCB1bml0Q29zdCA9IHBhcnNlRmxvYXQoaXRlbS51bml0X2Nvc3QpIHx8IDA7XG4gICAgcmV0dXJuIHF1YW50aXR5ICogdW5pdENvc3Q7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQcm9jZXNzaW5nU3RhdHVzKCkge1xuICAgIGlmICghaW52b2ljZSkgcmV0dXJuICd1bmtub3duJztcbiAgICBjb25zdCBoYXNBbGxGaWVsZHMgPSBpbnZvaWNlLm51bWJlciAmJiBpbnZvaWNlLmRhdGUgJiYgaW52b2ljZS5zdXBwbGllciAmJiBpbnZvaWNlLmFtb3VudDtcbiAgICByZXR1cm4gaGFzQWxsRmllbGRzID8gJ3Byb2Nlc3NlZCcgOiAncGVuZGluZyc7XG4gIH1cblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgQ2xpZW50TGF5b3V0LFxuICAgICAge1xuICAgICAgICBwYWdlVGl0bGU6IFwiSW52b2ljZSBEZXRhaWxzXCIsXG4gICAgICAgIHBhZ2VEZXNjcmlwdGlvbjogXCJWaWV3IGludm9pY2UgaW5mb3JtYXRpb24gYW5kIGl0ZW1zXCIsXG4gICAgICAgIHBhZ2VJY29uOiBJY29uRmlsZVRleHRcbiAgICAgIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IFwicC02XCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMlwiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IFwidy0xMCBoLTEwIGJvcmRlci00IGJvcmRlci1ncmF5LTMwMCBib3JkZXItdC1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBcIm1sLTMgdGV4dC1ncmF5LTYwMFwiIH0sIFwiTG9hZGluZyBpbnZvaWNlIGRldGFpbHMuLi5cIilcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIENsaWVudExheW91dCxcbiAgICAgIHtcbiAgICAgICAgcGFnZVRpdGxlOiBcIkludm9pY2UgRGV0YWlsc1wiLFxuICAgICAgICBwYWdlRGVzY3JpcHRpb246IFwiVmlldyBpbnZvaWNlIGluZm9ybWF0aW9uIGFuZCBpdGVtc1wiLFxuICAgICAgICBwYWdlSWNvbjogSWNvbkZpbGVUZXh0XG4gICAgICB9LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBcInAtNlwiIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFwidGV4dC1jZW50ZXIgcHktMTJcIiB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBcInRleHQtNnhsIG1iLTRcIiB9LCBcIuKaoO+4j1wiKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdoMycsIHsgY2xhc3NOYW1lOiBcInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIiB9LCBcIkVycm9yIExvYWRpbmcgSW52b2ljZVwiKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdwJywgeyBjbGFzc05hbWU6IFwidGV4dC1yZWQtNjAwIG1iLTZcIiB9LCBlcnJvciksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZmxleCBnYXAtNCBqdXN0aWZ5LWNlbnRlclwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHJvdXRlci5wdXNoKFwiL2NsaWVudC9pbnZvaWNlc1wiKSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwicHgtNCBweS0yIHRleHQtZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktNTAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcIkJhY2sgdG8gSW52b2ljZXNcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJweC02IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJSZXRyeVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlmICghaW52b2ljZSkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgQ2xpZW50TGF5b3V0LFxuICAgICAge1xuICAgICAgICBwYWdlVGl0bGU6IFwiSW52b2ljZSBEZXRhaWxzXCIsXG4gICAgICAgIHBhZ2VEZXNjcmlwdGlvbjogXCJWaWV3IGludm9pY2UgaW5mb3JtYXRpb24gYW5kIGl0ZW1zXCIsXG4gICAgICAgIHBhZ2VJY29uOiBJY29uRmlsZVRleHRcbiAgICAgIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IFwicC02XCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogXCJ0ZXh0LWNlbnRlciBweS0xMlwiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IFwidGV4dC02eGwgbWItNFwiIH0sIFwi8J+ThFwiKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdoMycsIHsgY2xhc3NOYW1lOiBcInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIiB9LCBcIkludm9pY2UgTm90IEZvdW5kXCIpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3AnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNjAwIG1iLTZcIiB9LCBcIlRoZSByZXF1ZXN0ZWQgaW52b2ljZSBjb3VsZCBub3QgYmUgZm91bmQuXCIpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gcm91dGVyLnB1c2goXCIvY2xpZW50L2ludm9pY2VzXCIpLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwicHgtNiBweS0zIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJCYWNrIHRvIEludm9pY2VzXCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc3RhdHVzID0gZ2V0UHJvY2Vzc2luZ1N0YXR1cygpO1xuICBjb25zdCB0b3RhbENhbGN1bGF0ZWQgPSBpbnZvaWNlSXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGNhbGN1bGF0ZUl0ZW1Ub3RhbChpdGVtKSwgMCk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQ2xpZW50TGF5b3V0LFxuICAgIHtcbiAgICAgIHBhZ2VUaXRsZTogXCJJbnZvaWNlIERldGFpbHNcIixcbiAgICAgIHBhZ2VEZXNjcmlwdGlvbjogXCJWaWV3IGludm9pY2UgaW5mb3JtYXRpb24gYW5kIGl0ZW1zXCIsXG4gICAgICBwYWdlSWNvbjogSWNvbkZpbGVUZXh0XG4gICAgfSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgUmVhY3QuRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gSGVhZGVyIHdpdGggYmFjayBidXR0b25cbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJiZy13aGl0ZSBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgcHgtNiBweS00XCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIiB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gcm91dGVyLnB1c2goXCIvY2xpZW50L2ludm9pY2VzXCIpLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktOTAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25BcnJvd0xlZnQsIHsgc2l6ZTogMjAgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgbnVsbCwgXCJCYWNrIHRvIEludm9pY2VzXCIpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgICAgICBzdGF0dXMgPT09ICdwcm9jZXNzZWQnIFxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAnIFxuICAgICAgICAgICAgICAgICAgICA6ICdiZy15ZWxsb3ctMTAwIHRleHQteWVsbG93LTgwMCdcbiAgICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdGF0dXMgPT09ICdwcm9jZXNzZWQnID8gJ1Byb2Nlc3NlZCcgOiAnUGVuZGluZyBSZXZpZXcnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApLFxuXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IFwicC02IG1heC13LTZ4bCBteC1hdXRvIHNwYWNlLXktNlwiIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBJbnZvaWNlIEluZm9ybWF0aW9uIENhcmRcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogXCJiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQteGwgcC02IHNoYWRvdy1zbVwiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTZcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaDInLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiIH0sIFwiSW52b2ljZSBJbmZvcm1hdGlvblwiKSxcbiAgICAgICAgICAgIHJlc3RhdXJhbnQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAgYmctZ3JheS0xMDAgcHgtMyBweS0xIHJvdW5kZWQtZnVsbFwiIH0sXG4gICAgICAgICAgICAgIHJlc3RhdXJhbnQubmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNlwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwic3BhY2UteS0xXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnbGFiZWwnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIiB9LCBcIkludm9pY2UgTnVtYmVyXCIpLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJ0ZXh0LWxnIHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgIGludm9pY2UubnVtYmVyIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNDAwIGl0YWxpY1wiIH0sIFwiUGVuZGluZyBSZXZpZXdcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJzcGFjZS15LTFcIiB9LFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMFwiIH0sIFwiSW52b2ljZSBEYXRlXCIpLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJ0ZXh0LWxnIHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgIGludm9pY2UuZGF0ZSA/IGZvcm1hdERhdGUoaW52b2ljZS5kYXRlKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNDAwIGl0YWxpY1wiIH0sIFwiUGVuZGluZyBSZXZpZXdcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJzcGFjZS15LTFcIiB9LFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMFwiIH0sIFwiU3VwcGxpZXJcIiksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRleHQtbGcgdGV4dC1ncmF5LTkwMFwiIH0sXG4gICAgICAgICAgICAgICAgaW52b2ljZS5zdXBwbGllciB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IFwidGV4dC1ncmF5LTQwMCBpdGFsaWNcIiB9LCBcIlBlbmRpbmcgUmV2aWV3XCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwic3BhY2UteS0xXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnbGFiZWwnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIiB9LCBcIlRvdGFsIEFtb3VudFwiKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgIGludm9pY2UuYW1vdW50ID8gZm9ybWF0Q3VycmVuY3koaW52b2ljZS5hbW91bnQpIDogUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS00MDAgaXRhbGljXCIgfSwgXCJQZW5kaW5nIFJldmlld1wiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktMVwiIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgeyBjbGFzc05hbWU6IFwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwXCIgfSwgXCJVcGxvYWQgRGF0ZVwiKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgncCcsIHsgY2xhc3NOYW1lOiBcInRleHQtbGcgdGV4dC1ncmF5LTkwMFwiIH0sIGZvcm1hdERhdGUoaW52b2ljZS5jcmVhdGVkX2F0KSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwic3BhY2UteS0xXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnbGFiZWwnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIiB9LCBcIkZpbGVcIiksXG4gICAgICAgICAgICAgIGludm9pY2UuZmlsZV91cmwgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogaW52b2ljZS5maWxlX3VybCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJWaWV3IE9yaWdpbmFsIEZpbGVcIixcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkV4dGVybmFsTGluaywgeyBzaXplOiAxNiB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNDAwIGl0YWxpY1wiIH0sIFwiTm8gZmlsZSBhdmFpbGFibGVcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG5cbiAgICAgICAgLy8gSW52b2ljZSBJdGVtcyBDYXJkXG4gICAgICAgIGludm9pY2VJdGVtcy5sZW5ndGggPiAwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLXhsIHAtNiBzaGFkb3ctc21cIiB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi02XCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2gyJywgeyBjbGFzc05hbWU6IFwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIiB9LCBcIkludm9pY2UgSXRlbXNcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMCBiZy1ncmF5LTEwMCBweC0zIHB5LTEgcm91bmRlZC1mdWxsXCIgfSxcbiAgICAgICAgICAgICAgYCR7aW52b2ljZUl0ZW1zLmxlbmd0aH0gaXRlbXNgXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJvdmVyZmxvdy14LWF1dG9cIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidy1mdWxsXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAndGhlYWQnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImJnLWdyYXktNTAgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCd0aCcsIHsgY2xhc3NOYW1lOiBcInRleHQtbGVmdCBweS0zIHB4LTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSwgXCJJdGVtIE5hbWVcIiksXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCd0aCcsIHsgY2xhc3NOYW1lOiBcInRleHQtbGVmdCBweS0zIHB4LTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSwgXCJRdWFudGl0eVwiKSxcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3RoJywgeyBjbGFzc05hbWU6IFwidGV4dC1sZWZ0IHB5LTMgcHgtNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIiB9LCBcIlVuaXRcIiksXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCd0aCcsIHsgY2xhc3NOYW1lOiBcInRleHQtbGVmdCBweS0zIHB4LTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSwgXCJVbml0IENvc3RcIiksXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCd0aCcsIHsgY2xhc3NOYW1lOiBcInRleHQtbGVmdCBweS0zIHB4LTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSwgXCJUb3RhbFwiKSxcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3RoJywgeyBjbGFzc05hbWU6IFwidGV4dC1sZWZ0IHB5LTMgcHgtNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIiB9LCBcIkxpbmtlZCBJbmdyZWRpZW50XCIpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICd0Ym9keScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZGl2aWRlLXkgZGl2aWRlLWdyYXktMTAwXCIgfSxcbiAgICAgICAgICAgICAgICBpbnZvaWNlSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGl0ZW0uaWQsIGNsYXNzTmFtZTogXCJob3ZlcjpiZy1ncmF5LTUwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInB5LTQgcHgtNCBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLml0ZW1fbmFtZSB8fCBcIi0tXCJcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInB5LTQgcHgtNCB0ZXh0LWdyYXktOTAwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnF1YW50aXR5IHx8IFwiLS1cIlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICd0ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwicHktNCBweC00IHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udW5pdCB8fCBcIi0tXCJcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInB5LTQgcHgtNCB0ZXh0LWdyYXktOTAwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRDdXJyZW5jeShpdGVtLnVuaXRfY29zdClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInB5LTQgcHgtNCBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRDdXJyZW5jeShjYWxjdWxhdGVJdGVtVG90YWwoaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJweS00IHB4LTRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaW5ncmVkaWVudHMgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGV4dC1ncmVlbi03MDAgYmctZ3JlZW4tNTAgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC1zbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmluZ3JlZGllbnRzLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICApIDogUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS01MDAgaXRhbGljXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTm90IGxpbmtlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICd0Zm9vdCcsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiYmctZ3JheS01MCBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAndHInLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICd0ZCcsXG4gICAgICAgICAgICAgICAgICAgIHsgY29sU3BhbjogNCwgY2xhc3NOYW1lOiBcInB5LTQgcHgtNCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgICAgICBcIkNhbGN1bGF0ZWQgVG90YWw6XCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJweS00IHB4LTQgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIiB9LFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRDdXJyZW5jeSh0b3RhbENhbGN1bGF0ZWQpXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgndGQnLCB7IGNsYXNzTmFtZTogXCJweS00IHB4LTRcIiB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaW52b2ljZS5hbW91bnQgJiYgTWF0aC5hYnModG90YWxDYWxjdWxhdGVkIC0gcGFyc2VGbG9hdChpbnZvaWNlLmFtb3VudCkpID4gMC4wMSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICB7IGNvbFNwYW46IDQsIGNsYXNzTmFtZTogXCJweS0yIHB4LTQgdGV4dC1ncmF5LTcwMFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiSW52b2ljZSBUb3RhbDpcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICd0ZCcsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInB5LTIgcHgtNCB0ZXh0LWdyYXktOTAwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0Q3VycmVuY3koaW52b2ljZS5hbW91bnQpXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwicHktMiBweC00XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGV4dC1yZWQtNjAwIHRleHQtc21cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGBEaWZmZXJlbmNlOiAke2Zvcm1hdEN1cnJlbmN5KE1hdGguYWJzKHRvdGFsQ2FsY3VsYXRlZCAtIHBhcnNlRmxvYXQoaW52b2ljZS5hbW91bnQpKSl9YFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuXG4gICAgICAgIC8vIEVtcHR5IGl0ZW1zIHN0YXRlXG4gICAgICAgIGludm9pY2VJdGVtcy5sZW5ndGggPT09IDAgJiYgc3RhdHVzID09PSAncHJvY2Vzc2VkJyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC14bCBwLTEyIHRleHQtY2VudGVyIHNoYWRvdy1zbVwiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQ2xpcGJvYXJkTGlzdCwgeyBzaXplOiA0OCwgY2xhc3NOYW1lOiBcIm14LWF1dG8gbWItNCB0ZXh0LWdyYXktMzAwXCIgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaDMnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMlwiIH0sIFwiTm8gSXRlbXMgRm91bmRcIiksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgncCcsIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS02MDBcIiB9LCBcIlRoaXMgaW52b2ljZSBoYXMgYmVlbiBwcm9jZXNzZWQgYnV0IG5vIGxpbmUgaXRlbXMgd2VyZSByZWNvcmRlZC5cIilcbiAgICAgICAgKSxcblxuICAgICAgICAvLyBQZW5kaW5nIHByb2Nlc3NpbmcgbWVzc2FnZVxuICAgICAgICBzdGF0dXMgPT09ICdwZW5kaW5nJyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgcm91bmRlZC14bCBwLTggdGV4dC1jZW50ZXJcIiB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkNsb2NrLCB7IHNpemU6IDQ4LCBjbGFzc05hbWU6IFwibXgtYXV0byBtYi00IHRleHQteWVsbG93LTUwMFwiIH0pLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2gzJywgeyBjbGFzc05hbWU6IFwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTJcIiB9LCBcIlBlbmRpbmcgUmV2aWV3XCIpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3AnLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNjAwXCIgfSwgXCJUaGlzIGludm9pY2UgaXMgd2FpdGluZyB0byBiZSBwcm9jZXNzZWQgYnkgb3VyIGFkbWluIHRlYW0uIEludm9pY2UgZGV0YWlscyBhbmQgbGluZSBpdGVtcyB3aWxsIGJlIGF2YWlsYWJsZSBvbmNlIHByb2Nlc3NpbmcgaXMgY29tcGxldGUuXCIpXG4gICAgICAgICksXG5cbiAgICAgICAgLy8gRmlsZSBWaWV3ZXJcbiAgICAgICAgaW52b2ljZS5maWxlX3VybCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC14bCBwLTYgc2hhZG93LXNtXCIgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNlwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdoMicsIHsgY2xhc3NOYW1lOiBcInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCIgfSwgXCJJbnZvaWNlIEZpbGVcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBocmVmOiBpbnZvaWNlLmZpbGVfdXJsLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJPcGVuIGluIE5ldyBUYWJcIixcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uRXh0ZXJuYWxMaW5rLCB7IHNpemU6IDE2IH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCIgfSxcbiAgICAgICAgICAgIGludm9pY2UuZmlsZV91cmwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnLnBkZicpID8gUmVhY3QuY3JlYXRlRWxlbWVudCgnaWZyYW1lJywge1xuICAgICAgICAgICAgICBzcmM6IGludm9pY2UuZmlsZV91cmwsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3LWZ1bGwgaC05NlwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJJbnZvaWNlIFBERlwiXG4gICAgICAgICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHtcbiAgICAgICAgICAgICAgc3JjOiBpbnZvaWNlLmZpbGVfdXJsLFxuICAgICAgICAgICAgICBhbHQ6IFwiSW52b2ljZVwiLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwidy1mdWxsIGgtYXV0byBtYXgtaC05NiBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIkNsaWVudExheW91dCIsInN1cGFiYXNlIiwiSWNvbkZpbGVUZXh0IiwiSWNvbkFycm93TGVmdCIsIkljb25FeHRlcm5hbExpbmsiLCJJY29uQ2xpcGJvYXJkTGlzdCIsIkljb25DbG9jayIsIkljb25DaGVjayIsIkljb25BbGVydFRyaWFuZ2xlIiwiSW52b2ljZURldGFpbCIsInJvdXRlciIsImlkIiwicXVlcnkiLCJpbnZvaWNlIiwic2V0SW52b2ljZSIsImludm9pY2VJdGVtcyIsInNldEludm9pY2VJdGVtcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInJlc3RhdXJhbnQiLCJzZXRSZXN0YXVyYW50IiwiZmV0Y2hJbnZvaWNlRGF0YSIsImRhdGEiLCJ1c2VyIiwidXNlckVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJwcm9maWxlIiwicHJvZmlsZUVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwicmVzdGF1cmFudF9pZCIsImludm9pY2VEYXRhIiwiaW52b2ljZUVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJyZXN0YXVyYW50RGF0YSIsInJlc3RhdXJhbnRFcnJvciIsIml0ZW1zRGF0YSIsIml0ZW1zRXJyb3IiLCJvcmRlciIsImVyciIsImNvbnNvbGUiLCJmb3JtYXREYXRlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJmb3JtYXRDdXJyZW5jeSIsImFtb3VudCIsInVuZGVmaW5lZCIsIm51bUFtb3VudCIsInBhcnNlRmxvYXQiLCJpc05hTiIsInRvTG9jYWxlU3RyaW5nIiwic3R5bGUiLCJjdXJyZW5jeSIsIm1pbmltdW1GcmFjdGlvbkRpZ2l0cyIsIm1heGltdW1GcmFjdGlvbkRpZ2l0cyIsImNhbGN1bGF0ZUl0ZW1Ub3RhbCIsIml0ZW0iLCJxdWFudGl0eSIsInVuaXRDb3N0IiwidW5pdF9jb3N0IiwiZ2V0UHJvY2Vzc2luZ1N0YXR1cyIsImhhc0FsbEZpZWxkcyIsIm51bWJlciIsImRhdGUiLCJzdXBwbGllciIsImNyZWF0ZUVsZW1lbnQiLCJwYWdlVGl0bGUiLCJwYWdlRGVzY3JpcHRpb24iLCJwYWdlSWNvbiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJwdXNoIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJzdGF0dXMiLCJ0b3RhbENhbGN1bGF0ZWQiLCJyZWR1Y2UiLCJzdW0iLCJGcmFnbWVudCIsInNpemUiLCJuYW1lIiwiY3JlYXRlZF9hdCIsImZpbGVfdXJsIiwiaHJlZiIsInRhcmdldCIsInJlbCIsImxlbmd0aCIsIm1hcCIsImtleSIsIml0ZW1fbmFtZSIsInVuaXQiLCJpbmdyZWRpZW50cyIsImNvbFNwYW4iLCJNYXRoIiwiYWJzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInNyYyIsInRpdGxlIiwiYWx0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/client/invoices/[id].js\n"));

/***/ })

});